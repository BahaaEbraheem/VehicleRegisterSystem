@model VehicleRegisterSystem.Application.DTOs.OrderDto

<h2>تدقيق الطلب</h2>

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">
        @TempData["Error"]
    </div>
}

@if (TempData["Message"] != null)
{
    <div class="alert alert-success">
        @TempData["Message"]
    </div>
}

<div class="card mb-3">
    <div class="card-body">
        <p><strong>اسم مقدم الطلب:</strong> @Model.FullName</p>
        <p><strong>رقم وطني:</strong> @Model.NationalNumber</p>
        <p><strong>اسم الأم:</strong> @Model.MotherName</p>
        <p><strong>اسم السيارة:</strong> @Model.CarName</p>
        <p><strong>موديل:</strong> @Model.Model</p>
        <p><strong>سنة الصنع:</strong> @Model.YearOfManufacture</p>
        <p><strong>لون:</strong> @Model.Color</p>
        <p><strong>رقم المحرك:</strong> @Model.EngineNumber</p>
        <p><strong>تاريخ الطلب:</strong> @Model.CreatedAt.ToString("yyyy-MM-dd")</p>
        <p><strong>الحالة:</strong> @Model.Status</p>
    </div>
</div>

<form asp-action="ReturnOrder" method="post" class="mb-3">
    <input type="hidden" name="id" value="@Model.Id" />
    <div class="mb-2">
        <label>سبب إعادة الطلب:</label>
        <textarea name="comment" class="form-control" required></textarea>
    </div>
    <button type="submit" class="btn btn-danger">إعادة الطلب للمستخدم</button>
</form>

<form asp-action="SetInProgress" method="post">
    <input type="hidden" name="id" value="@Model.Id" />
    <button type="submit" class="btn btn-success">نقل الطلب إلى قيد الإجراء</button>
</form>
